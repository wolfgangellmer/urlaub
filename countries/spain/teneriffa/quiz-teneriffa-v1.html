<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Das ultimative Ellmer Teneriffa Urlaubs-Quiz üå¥‚òÄÔ∏è</title>

<!-- Moderne Schriftarten von Google Fonts -->
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Pacifico&family=Poppins:wght@400;600&display=swap" rel="stylesheet">

<style>
    :root {
        --bg-gradient-start: #a2d2ff; /* Himmelblau */
        --bg-gradient-end: #fff8e7;   /* Sandbeige */
        --container-bg: rgba(255, 255, 255, 0.85);
        --header-color: #FF7F50;    /* Koralle */
        --text-color: #333;
        --question-color: #008080;  /* Meeres-T√ºrkis */
        --accent-color: #FFB347;    /* Sonnengelb */
        --correct-bg: #e0f2f1;      /* Heller Mintton */
        --correct-border: #008080;
        --incorrect-bg: #ffebee;    /* Heller Rotton */
        --incorrect-border: #d32f2f;
        --font-main: 'Poppins', sans-serif;
        --font-display: 'Pacifico', cursive;
    }

    body {
        font-family: var(--font-main);
        background: linear-gradient(180deg, var(--bg-gradient-start) 0%, var(--bg-gradient-end) 70%);
        background-attachment: fixed;
        color: var(--text-color);
        margin: 0;
        padding: 0;
        line-height: 1.6;
    }

    header {
        color: white;
        text-align: center;
        padding: 25px 15px;
        font-family: var(--font-display);
        font-size: 2.5em;
        text-shadow: 2px 2px 4px rgba(0,0,0,0.2);
        background-color: var(--header-color);
    }

    .container {
        padding: 20px;
        max-width: 700px;
        margin: 30px auto;
        background: var(--container-bg);
        border-radius: 20px;
        box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.37);
        backdrop-filter: blur(8px);
        -webkit-backdrop-filter: blur(8px);
        border: 1px solid rgba(255, 255, 255, 0.18);
    }

    .progress-container {
        width: 100%;
        background-color: #eee;
        border-radius: 10px;
        margin-bottom: 25px;
    }
    .progress-bar {
        width: 0%;
        height: 22px;
        background: linear-gradient(to right, var(--accent-color), var(--header-color));
        border-radius: 10px;
        color: white;
        font-weight: 600;
        transition: width 0.4s ease-in-out;
        display: flex;
        align-items: center;
        justify-content: center;
    }

    .question-section { margin-bottom: 20px; }
    h2 {
        color: var(--question-color);
        text-align: center;
        margin-top: 0;
        border-bottom: 3px solid var(--accent-color);
        padding-bottom: 10px;
        font-weight: 600;
    }

    .question-block { margin-bottom: 25px; }

    .question-title-container {
        display: flex;
        align-items: center;
        gap: 10px;
        margin-bottom: 15px;
        font-weight: 600;
        color: var(--question-color);
        font-size: 1.1em;
    }
    
    .answers label {
        display: flex;
        align-items: center;
        gap: 8px;
        margin: 8px 0;
        padding: 12px 15px;
        border-radius: 10px;
        cursor: pointer;
        transition: all 0.3s ease;
        border: 1px solid #ddd;
        background: white;
    }

    .answers label:hover {
        transform: translateY(-3px);
        box-shadow: 0 4px 15px rgba(0,0,0,0.1);
    }
    
    .speak-btn {
        background: none;
        border: none;
        cursor: pointer;
        font-size: 1.3em;
        line-height: 1;
        padding: 0 5px;
        color: #777;
        transition: color 0.2s;
    }
    .speak-btn:hover { color: var(--header-color); }
    .answer-text { flex-grow: 1; }

    .answers input[type="radio"] {
        margin-right: 5px;
        accent-color: var(--header-color);
    }
    
    .answers label.correct {
        background-color: var(--correct-bg);
        border-color: var(--correct-border);
        font-weight: 600;
        color: var(--correct-border);
    }
    .answers label.correct::before { content: '‚úî '; }

    .answers label.incorrect {
        background-color: var(--incorrect-bg);
        border-color: var(--incorrect-border);
    }
    .answers label.incorrect::before { content: '‚úñ '; }

    .button {
        color: white;
        border: none;
        padding: 15px 25px;
        font-size: 18px;
        font-weight: 600;
        border-radius: 10px;
        cursor: pointer;
        margin-top: 10px;
        display: block;
        width: 100%;
        transition: all 0.3s ease;
        text-transform: uppercase;
        letter-spacing: 1px;
    }
    .button:hover {
        transform: translateY(-3px);
        box-shadow: 0 6px 20px rgba(0,0,0,0.2);
    }

    #submit-btn { background: var(--header-color); }
    #retry-btn { background-color: #6c757d; }

    #result {
        font-size: 1.3em;
        font-weight: 600;
        text-align: center;
        margin-top: 25px;
        color: var(--question-color);
        padding: 20px;
        border-radius: 10px;
        background-color: var(--container-bg);
    }
    
    .hidden { display: none; }
</style>
</head>
<body>

<header>Das ultimative Teneriffa Quiz</header>

<div class="container">
    <div class="progress-container">
        <div class="progress-bar" id="progress-bar">0 / 50</div>
    </div>

    <form id="quiz-form">
        <!-- Der Inhalt wird hier dynamisch von JavaScript eingef√ºgt -->
        <div id="dynamic-quiz-container"></div>
        
        <button type="submit" id="submit-btn" class="button">Auswerten</button>
    </form>
    
    <div id="result" class="hidden"></div>
    <button id="retry-btn" class="button hidden">Erneut versuchen</button>
</div>

<script>
const quizData = [
    // --- Kategorie: Teneriffa Allgemein ---
    { category: "Teneriffa Allgemein", q: "Zu welcher Inselgruppe geh√∂rt Teneriffa?", a: { b: "Kanaren üáÆüá®", a: "Balearen üá™üá∏", c: "Azoren üáµüáπ" }, correct: "b" },
    { category: "Teneriffa Allgemein", q: "Welches Meer umgibt Teneriffa?", a: { b: "Atlantischer Ozean üåä", a: "Mittelmeer üèñÔ∏è", c: "Pazifischer Ozean üó∫Ô∏è" }, correct: "b" },
    { category: "Teneriffa Allgemein", q: "Wie nennen die Einheimischen Teneriffa wegen des ganzj√§hrig milden Wetters?", a: { a: "Insel des ewigen Fr√ºhlings üå∫", b: "Insel der tausend Vulkane üåã", c: "Insel der Winde üí®" }, correct: "a" },
    { category: "Teneriffa Allgemein", q: "Welche ist die Hauptstadt von Teneriffa?", a: { a: "Santa Cruz de Tenerife üèõÔ∏è", b: "La Laguna ‚õ™", c: "Puerto de la Cruz üõ≥Ô∏è" }, correct: "a" },
    { category: "Teneriffa Allgemein", q: "Welche Farbe hat die Flagge der Kanarischen Inseln?", a: { c: "Wei√ü, Blau und Gelb ‚ö™üîµüíõ", a: "Rot und Gelb ‚ù§Ô∏èüíõ", b: "Nur Blau und Wei√ü üîµ‚ö™" }, correct: "c" },
    { category: "Teneriffa Allgemein", q: "Welcher Kontinent liegt √∂stlich von Teneriffa?", a: { b: "Afrika üåç", a: "Europa üá™üá∫", c: "S√ºdamerika üåé" }, correct: "b" },
    { category: "Teneriffa Allgemein", q: "Welche Insel ist die gr√∂√üte der Kanaren?", a: { b: "Teneriffa üèùÔ∏è", a: "Gran Canaria üáÆüá®", c: "Lanzarote üåã" }, correct: "b" },
    
    // --- Kategorie: Sehensw√ºrdigkeiten & Natur ---
    { category: "Sehensw√ºrdigkeiten & Natur", q: "Wie hei√üt der h√∂chste Berg Spaniens, der auf Teneriffa steht?", a: { a: "Teide üåã", b: "Gro√üglockner (√ñsterreich) üá¶üáπ", c: "Zugspitze (Deutschland) üá©üá™" }, correct: "a" },
    { category: "Sehensw√ºrdigkeiten & Natur", q: "Welche besondere Farbe hat der Sand an vielen Str√§nden im Norden?", a: { b: "Tiefschwarz üñ§", a: "Schneewei√ü ü§ç", c: "Rosarot üå∏" }, correct: "b" },
    { category: "Sehensw√ºrdigkeiten & Natur", q: "Welcher uralte Baum ist ein ber√ºhmtes Wahrzeichen in Icod de los Vinos?", a: { a: "Drachenbaum üêâüå≥", b: "Affenbrotbaum  BA", c: "Mammutbaum üå≤" }, correct: "a" },
    { category: "Sehensw√ºrdigkeiten & Natur", q: "Welche Aktivit√§t ist im Teide-Nationalpark besonders beliebt?", a: { a: "Wandern & Sterne beobachten ü•æüåå", b: "Surfen & Tauchen üèÑ‚Äç‚ôÇÔ∏èü§ø", c: "Skifahren & Rodeln ‚õ∑Ô∏èüõ∑" }, correct: "a" },
    { category: "Sehensw√ºrdigkeiten & Natur", q: "Welche Stadt ist UNESCO-Weltkulturerbe f√ºr ihre koloniale Altstadt?", a: { a: "La Laguna ‚õ™", b: "Santa Cruz üèôÔ∏è", c: "Los Cristianos üèñÔ∏è" }, correct: "a" },
    { category: "Sehensw√ºrdigkeiten & Natur", q: "Wie nennt man die beeindruckenden Steilklippen im Westen der Insel?", a: { a: "Los Gigantes üóø", b: "Las Teresitas üèñÔ∏è", c: "El M√©dano ü™Å" }, correct: "a" },
    { category: "Sehensw√ºrdigkeiten & Natur", q: "Welches astronomische Observatorium befindet sich auf Teneriffa?", a: { c: "Teide-Observatorium üî≠", a: "La Palma-Observatorium üáÆüá®", b: "Mauna Kea-Observatorium üá∫üá∏" }, correct: "c" },

    // --- Kategorie: Tierwelt ---
    { category: "Tierwelt", q: "Welcher kleine Vogel ist nach den Kanarischen Inseln benannt?", a: { a: "Kanarienvogel üê§", b: "Papageientaucher üêß", c: "Wellensittich ü¶ú" }, correct: "a" },
    { category: "Tierwelt", q: "Welche Meerestiere kann man bei einer Bootstour vor der K√ºste h√§ufig beobachten?", a: { a: "Grindwale & Delfine üêãüê¨", b: "Eisb√§ren & Robben üêª‚Äç‚ùÑÔ∏èü¶≠", c: "Pinguine & Seel√∂wen üêßü¶≠" }, correct: "a" },
    { category: "Tierwelt", q: "Welches Reptil sonnt sich h√§ufig auf den warmen Felsen und Mauern?", a: { a: "Kanareneidechse ü¶é", b: "Krokodil üêä", c: "Leguan üêç" }, correct: "a" },
    { category: "Tierwelt", q: "Welches Tier ist auf dem offiziellen Wappen von Teneriffa abgebildet?", a: { b: "Ein Drache üêâ", a: "Ein Adler ü¶Ö", c: "Ein L√∂we ü¶Å" }, correct: "b" },
    
    // --- Kategorie: Loro Parque ---
    { category: "Loro Parque", q: "Was bedeutet der Name 'Loro Parque' auf Deutsch?", a: { a: "Papageien-Park ü¶ú", b: "L√∂wen-Park ü¶Å", c: "Delfin-Park üê¨" }, correct: "a" },
    { category: "Loro Parque", q: "Welche Tiere leben im 'Planet Penguin', einer Anlage mit echtem Schnee?", a: { a: "Pinguine üêß", b: "Eisb√§ren üêª‚Äç‚ùÑÔ∏è", c: "Schneeleoparden üêÜ" }, correct: "a" },
    { category: "Loro Parque", q: "Durch welches beeindruckende Aquarium kann man in einem Tunnel laufen?", a: { a: "Hai-Tunnel ü¶à", b: "Quallen-Galaxie üéê", c: "Korallenriff üê†" }, correct: "a" },
    { category: "Loro Parque", q: "Welche gro√üen, schwarz-wei√üen Meeress√§uger sind f√ºr ihre Shows bekannt?", a: { b: "Orcas üêã", a: "Belugas ‚ö™", c: "Seek√ºhe üåä" }, correct: "b" },
    { category: "Loro Parque", q: "Welche Tiere klatschen bei ihrer Vorf√ºhrung begeistert mit den Flossen?", a: { a: "Seel√∂wen ü¶≠", b: "Otter ü¶¶", c: "Biber üõ∂" }, correct: "a" },
    
    // --- Kategorie: Siam Park ---
    { category: "Siam Park", q: "Welches Land diente als thematische Inspiration f√ºr den Siam Park?", a: { a: "Thailand üáπüá≠", b: "Indonesien üáÆüá©", c: "Japan üáØüáµ" }, correct: "a" },
    { category: "Siam Park", q: "Wie hei√üt die fast senkrechte Rutsche, die durch ein Haifischbecken f√ºhrt?", a: { a: "Tower of Power üóº", b: "Dragon üêâ", c: "The Volcano üåã" }, correct: "a" },
    { category: "Siam Park", q: "Was ist der 'Palace of Waves'?", a: { a: "Ein Wellenbad mit riesigen Wellen üåä", b: "Ein entspannter Ruhebereich üßò", c: "Ein thail√§ndisches Restaurant üçõ" }, correct: "a" },
    { category: "Siam Park", q: "Was ist das Besondere am 'Mai Thai River'?", a: { a: "Es ist der l√§ngste 'Lazy River' der Welt üèûÔ∏è", b: "Er ist extrem schnell und rei√üend üå™Ô∏è", c: "Er ist komplett unterirdisch üöá" }, correct: "a" },
    { category: "Siam Park", q: "Welche Auszeichnung hat der Siam Park mehrfach in Folge erhalten?", a: { a: "Bester Wasserpark der Welt üèÜ", b: "Gr√∂√üter Wasserpark Europas üá™üá∫", c: "Sicherster Park der Kanaren ‚úÖ" }, correct: "a" },

    // --- Kategorie: Essen & Trinken ---
    { category: "Essen & Trinken", q: "Wie hei√üen die typischen kanarischen Schrumpelkartoffeln?", a: { a: "Papas Arrugadas ü•î", b: "Patatas Bravas üå∂Ô∏è", c: "Tortilla Espa√±ola üç≥" }, correct: "a" },
    { category: "Essen & Trinken", q: "Wie nennt man die w√ºrzigen roten und gr√ºnen So√üen, die zu vielen Gerichten gereicht werden?", a: { b: "Mojo Rojo & Mojo Verde üå∂Ô∏èüåø", a: "Salsa & Guacamole üçÖü•ë", c: "Ketchup & Mayo ü•´" }, correct: "b" },
    { category: "Essen & Trinken", q: "Welches traditionelle Getr√§nk ist ein Lik√∂r aus Rum und Honig?", a: { b: "Ron Miel üçØ", a: "Sangr√≠a üç∑", c: "Barraquito ‚òï" }, correct: "b" },
    { category: "Essen & Trinken", q: "Welche gelbe Frucht wird auf Teneriffa in gro√üen Plantagen angebaut?", a: { c: "Bananen üçå", a: "Zitronen üçã", b: "Ananas üçç" }, correct: "c" },
    { category: "Essen & Trinken", q: "Was ist 'Gofio'?", a: { a: "Ein Mehl aus ger√∂stetem Getreide üåæ", b: "Ein Eintopf mit Kichererbsen üç≤", c: "Ein lokaler Ziegenk√§se üßÄ" }, correct: "a" },
    { category: "Essen & Trinken", q: "Was ist ein 'Barraquito'?", a: { a: "Eine Kaffeespezialit√§t ‚òï", b: "Ein kleiner Tintenfisch ü¶ë", c: "Ein s√º√ües Geb√§ck ü•ê" }, correct: "a" },
    
    // --- Kategorie: Sprache & Kultur ---
    { category: "Sprache & Kultur", q: "Welche Sprache spricht man haupts√§chlich auf Teneriffa?", a: { b: "Spanisch üá™üá∏", a: "Portugiesisch üáµüáπ", c: "Italienisch üáÆüáπ" }, correct: "b" },
    { category: "Sprache & Kultur", q: "Wie sagt man 'Hallo' auf Spanisch?", a: { b: "Hola üëã", a: "Hello üëã", c: "Ciao üëã" }, correct: "b" },
    { category: "Sprache & Kultur", q: "Wie sagt man 'Danke'?", a: { a: "Gracias üôè", b: "Bitte üôè", c: "Salud üôè" }, correct: "a" },
    { category: "Sprache & Kultur", q: "Was bedeutet 'Playa'?", a: { b: "Strand üèñÔ∏è", a: "Sonne ‚òÄÔ∏è", c: "Stadt üèôÔ∏è" }, correct: "b" },
    { category: "Sprache & Kultur", q: "Was bedeutet 'Guagua' im kanarischen Spanisch?", a: { a: "Bus üöå", b: "Wasser üíß", c: "Hund üê∂" }, correct: "a" },
    { category: "Sprache & Kultur", q: "Welches riesige Fest, bekannt f√ºr seine Kost√ºme und Umz√ºge, findet im Februar statt?", a: { a: "Karneval von Santa Cruz üé≠", b: "Oktoberfest üç∫", c: "Tomatina (Tomatenfest) üçÖ" }, correct: "a" },
];

const quizContainer = document.getElementById('dynamic-quiz-container');
const quizForm = document.getElementById('quiz-form');
const resultContainer = document.getElementById('result');
const submitButton = document.getElementById('submit-btn');
const retryButton = document.getElementById('retry-btn');
const progressBar = document.getElementById('progress-bar');

function stripEmojis(text) {
    return text.replace(/[\u{1F600}-\u{1F64F}\u{1F300}-\u{1F5FF}\u{1F680}-\u{1F6FF}\u{1F1E0}-\u{1F1FF}\u{2600}-\u{26FF}\u{2700}-\u{27BF}]/gu, '').trim();
}

function speakText(textToSpeak) {
    if ('speechSynthesis' in window) {
        window.speechSynthesis.cancel();
        const utterance = new SpeechSynthesisUtterance(stripEmojis(textToSpeak));
        utterance.lang = 'de-DE';
        utterance.rate = 0.9;
        window.speechSynthesis.speak(utterance);
    } else {
        alert("Ihr Browser unterst√ºtzt leider keine Sprachausgabe.");
    }
}

function renderQuiz() {
    quizContainer.innerHTML = '';
    const categories = [...new Set(quizData.map(item => item.category))];
    
    categories.forEach(category => {
        const section = document.createElement('div');
        section.className = 'question-section';
        
        const heading = document.createElement('h2');
        heading.textContent = category;
        section.appendChild(heading);

        const categoryQuestions = quizData.filter(item => item.category === category);

        categoryQuestions.forEach(item => {
            const questionIndex = quizData.indexOf(item);
            let answersHtml = '';
            const answerKeys = Object.keys(item.a).sort(() => Math.random() - 0.5);

            answerKeys.forEach(key => {
                answersHtml += `
                    <label>
                        <input type="radio" name="q${questionIndex}" value="${key}">
                        <span class="answer-text">${item.a[key]}</span>
                        <button type="button" class="speak-btn" data-text-to-read="${item.a[key]}">üîä</button>
                    </label>
                `;
            });

            const questionBlock = document.createElement('div');
            questionBlock.className = 'question-block';
            questionBlock.id = `block${questionIndex}`;
            questionBlock.innerHTML = `
                <div class="question-title-container">
                   <span>${questionIndex + 1}. ${item.q}</span>
                   <button type="button" class="speak-btn" data-text-to-read="${item.q}">üîä</button>
                </div>
                <div class="answers">${answersHtml}</div>
            `;
            section.appendChild(questionBlock);
        });
        quizContainer.appendChild(section);
    });
    updateProgressBar();
}

function updateProgressBar() {
    const totalQuestions = quizData.length;
    const answeredQuestions = document.querySelectorAll('input[type="radio"]:checked').length;
    const progressPercentage = (answeredQuestions / totalQuestions) * 100;
    progressBar.style.width = `${progressPercentage}%`;
    progressBar.textContent = `${answeredQuestions} / ${totalQuestions}`;
}

function checkAnswers(event) {
    event.preventDefault();
    let score = 0;

    quizData.forEach((item, index) => {
        const selector = `input[name="q${index}"]:checked`;
        const userAnswerNode = quizForm.querySelector(selector);
        
        document.querySelectorAll(`#block${index} .answers label`).forEach(label => {
            const input = label.querySelector('input');
            input.disabled = true;
            if (input.value === item.correct) {
                label.classList.add('correct');
            }
        });

        if (userAnswerNode) {
            if (userAnswerNode.value === item.correct) {
                score++;
            } else {
                userAnswerNode.parentElement.classList.add('incorrect');
            }
        }
    });

    resultContainer.innerHTML = `‚òÄÔ∏è Du hast ${score} von ${quizData.length} Punkten erreicht! ‚òÄÔ∏è`;
    resultContainer.classList.remove('hidden');
    submitButton.classList.add('hidden');
    retryButton.classList.remove('hidden');
    window.scrollTo({ top: document.body.scrollHeight, behavior: 'smooth' });
}

function resetQuiz() {
    quizForm.reset();
    document.querySelectorAll('.answers label').forEach(label => {
        label.classList.remove('correct', 'incorrect');
    });
    document.querySelectorAll('input[type="radio"]').forEach(radio => {
        radio.disabled = false;
    });

    resultContainer.classList.add('hidden');
    submitButton.classList.remove('hidden');
    retryButton.classList.add('hidden');
    updateProgressBar();
    window.scrollTo({top: 0, behavior: 'smooth'});
}

// Event Listeners
quizForm.addEventListener('submit', checkAnswers);
quizForm.addEventListener('change', updateProgressBar);
retryButton.addEventListener('click', resetQuiz);
quizContainer.addEventListener('click', function(event) {
    if (event.target.classList.contains('speak-btn')) {
        const text = event.target.dataset.textToRead;
        speakText(text);
    }
});

document.addEventListener('DOMContentLoaded', renderQuiz);
</script>

</body>
</html>